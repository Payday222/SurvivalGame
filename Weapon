using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Weapon : MonoBehaviour
{
public WeaponData weaponData;
public WeaponData.Dice dice;
public int Weapondamage;



 public void RollDamageDice() {

        switch(this.dice) {
            case WeaponData.Dice.d4: 
                Weapondamage = UnityEngine.Random.Range(1, 5);
            break;
            case WeaponData.Dice.d6:
                Weapondamage = UnityEngine.Random.Range(1,7);
            break;

            case WeaponData.Dice.d8:
                Weapondamage = UnityEngine.Random.Range(1,9);
            break;

            case WeaponData.Dice.d10:
                Weapondamage = UnityEngine.Random.Range(1, 11);
            break;

            case WeaponData.Dice.d12:
                Weapondamage = UnityEngine.Random.Range(1, 13);
            break;

            case WeaponData.Dice.d20:
                Weapondamage = UnityEngine.Random.Range(1, 21);
            break;

            default:
            Weapondamage = 1000000000; //haha die
            Debug.Log("Damagedie is invalid");
            break;
        }
}
void OnTriggerEnter2D(Collider2D other)
{
    if(other.gameObject.tag == "Enemy") {
        RollDamageDice();
        other.GetComponent<enemy>().enemyData.enemyCurrentHealth -= Weapondamage;
        Debug.Log("Weapondmg" + Weapondamage);
        Debug.Log("enemy hp" + other.GetComponent<enemy>().enemyData.enemyCurrentHealth );
        if(other.GetComponent<enemy>().enemyData.enemyCurrentHealth <= 0) {
            Destroy(other.gameObject);
        }
    }
}
}